var express=require("express");var faces=require("lysergix");var app=express();app.get("/api/v1/faces",function(e,t){t.send(faces)});app.get("/api/v1/faces/:index",function(e,t){if(parseInt(e.params.index)!==parseInt(e.params.index)){t.send(404,"Error: use an integer for face ID plz")}try{var n=faces.getFace(parseInt(e.params.index))}catch(r){t.send(404,r)}t.send(n)});app.get("/api/v1/tags",function(e,t){t.send(faces.getTags())});app.get("/api/v1/tagged/:tag",function(e,t){t.send(faces.tagFilter(e.params.tag))});app.get("/api/v1/random",function(e,t){var n=faces.getRandomFace();if(e.headers.accept==="text/plain"){t.send(n.content+"\n")}t.send(n)});app.get("/api/v1/random/:tag",function(e,t){try{var n=faces.getRandomFace(e.params.tag)}catch(r){t.send(404,r)}if(e.headers.accept==="text/plain"){t.send(n.content+"\n")}t.send(n)});app.listen(1337)
